webpackJsonp([1],{"/wAz":function(t,e){},"2xiT":function(t,e){},"5aNS":function(t,e){},BgkE:function(t,e){},Cwdn:function(t,e,n){t.exports=n.p+"static/img/code.00dc73e.png"},DgjW:function(t,e,n){t.exports=n.p+"static/img/switch-icon.8f975f6.png"},DgoC:function(t,e){},FIIB:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("Au9i"),a=n.n(s),o=(n("d8/S"),n("mLvW"),n("/wAz"),n("zzYx"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"view",attrs:{id:"app"}},[e("transition",{attrs:{name:this.transitionName}},[e("router-view",{staticClass:"router"})],1)],1)},staticRenderFns:[]});var c=n("VU/8")({name:"App",data:function(){return{transitionName:"slide-left"}},watch:{$route:function(t,e){t.meta.key>e.meta.key?this.$router.isBack=!1:this.$router.isBack=!0;var n=this.$router.isBack;this.transitionName=n?"slide-right":"slide-left",this.$router.isBack=!1}}},o,!1,function(t){n("BgkE")},null,null).exports,r=n("/ocq"),l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"dev-list"},[this._t("default")],2)},staticRenderFns:[]};var u=n("VU/8")({name:"DevList"},l,!1,function(t){n("qrZP")},null,null).exports,d={name:"DevItem",props:{signalActive:{type:Boolean,default:!1},title:String,settingPath:Object,portPath:Object,infoItem:Array,flexOne:{type:Boolean,default:!1}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-item"},[i("div",{staticClass:"item-title"},[i("router-link",{staticClass:"title-link",attrs:{to:t.settingPath}},[i("div",{staticClass:"item-l"},[i("div",{staticClass:"signal",class:{"no-signal":t.signalActive}},[i("div",{staticClass:"signal-one"})]),t._v(" "),i("div",{staticClass:"item-l_content"},[i("div",{staticClass:"content-title"},[t._v(t._s(t.title))])])]),t._v(" "),i("div",{staticClass:"item-r"},[i("i",{staticClass:"iconfont icon-shezhi"})])])],1),t._v(" "),i("div",{staticClass:"item-info"},[i("div",{staticClass:"clearfix",class:[1==t.flexOne?"info-flex_one":"info-flex"]},t._l(t.infoItem,function(e,s){return i("router-link",{key:s,staticClass:"flex-item",attrs:{to:t.portPath}},[i("div",{staticClass:"item-in"},[i("div",{staticClass:"in-l"},[i("div",{staticClass:"title"},[t._v(t._s(e.port_name))]),t._v(" "),i("div",{staticClass:"content"},[t._v("状态:"+t._s(1==e.port_status?"开":"关"))])]),t._v(" "),i("div",{staticClass:"in-r"},[i("img",{staticClass:"switch-img",attrs:{src:n("DgjW"),alt:""}})])])])}))])])},staticRenderFns:[]},m=n("VU/8")(d,v,!1,null,null,null).exports,f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("footer",[e("div",{staticClass:"footer-in"},[this._t("default")],2)])},staticRenderFns:[]};var h=n("VU/8")({name:"Footer"},f,!1,function(t){n("FIIB")},null,null).exports,p={name:"Footer",props:{icon:{type:String},content:{type:String}}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"footer-item add",attrs:{href:"javascript:;"}},[e("i",{staticClass:"iconfont",class:this.icon}),this._v(" "),e("p",[this._v(this._s(this.content))])])},staticRenderFns:[]},_={name:"Home",data:function(){return{uid:1,getData:null}},components:{"dev-list":u,"dev-item":m,"footer-page":h,"footer-item":n("VU/8")(p,g,!1,null,null,null).exports},created:function(){var t=this;t.$http.get("/getSwitchList",{params:{uid:t.uid}}).then(function(e){"200"==e.status&&(console.log(e.data),t.getData=e.data.devInfo)}).catch(function(t){console.log(t)})},methods:{addDevice:function(){this.$router.push("/enter-password")}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home contain-footer body-c"},[n("dev-list",t._l(t.getData,function(e,i){return n("dev-item",{key:i,attrs:{signalActive:"0"==e.online,title:e.name,settingPath:{path:"/setting",query:{name:e.name,uid:t.uid,devId:e.devid}},infoItem:e.port_info,portPath:{path:"/dev-switch"},flexOne:1==e.total_port}})})),t._v(" "),n("footer-page",[n("footer-item",{attrs:{icon:"icon-jia",content:"添加设备"},nativeOn:{click:function(e){t.addDevice(e)}}})],1)],1)},staticRenderFns:[]},w=n("VU/8")(_,C,!1,null,null,null).exports,x={name:"Button",props:{buttonName:String}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button"},[this._t("default"),this._v(" "),e("span",[this._v(this._s(this.buttonName))])],2)},staticRenderFns:[]};var b=n("VU/8")(x,y,!1,function(t){n("5aNS")},null,null).exports,k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fun-button"},[e("div",{staticClass:"button-in"},[this._t("default")],2)])},staticRenderFns:[]};var $=n("VU/8")({name:"FunButton"},k,!1,function(t){n("cHGq")},null,null).exports,S={name:"FunItem",props:{icon:String,content:String}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fun-item"},[e("div",{staticClass:"item-icon"},[e("i",{staticClass:"iconfont",class:this.icon})]),this._v(" "),e("div",{staticClass:"content"},[this._v(this._s(this.content))])])},staticRenderFns:[]},E=n("VU/8")(S,F,!1,null,null,null).exports,A={name:"EnterPassword",components:{"button-view":b},data:function(){return{password:""}},methods:{confirm:function(){console.log(this.password)}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"enter-password"},[n("div",{staticClass:"pas-info hidden"},[n("div",{staticClass:"password"},[n("i",{staticClass:"iconfont icon-mima1 icon"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),n("button-view",{attrs:{buttonName:"确认"},nativeOn:{click:function(e){t.confirm(e)}}})],1)},staticRenderFns:[]};var B=n("VU/8")(A,I,!1,function(t){n("p+Fa")},"data-v-721bd312",null).exports,P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell-list"},[e("div",{staticClass:"cell-item"},[this._t("default")],2)])},staticRenderFns:[]};var O=n("VU/8")({name:"CellList"},P,!1,function(t){n("UM0k")},null,null).exports,q={name:"CellItem",props:{path:String,icon:String,content:String,isActive:{type:Boolean,default:!1}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-link",class:{isActive:t.isActive}},[n("div",{staticClass:"cell-hb"},[n("i",{staticClass:"iconfont nav-icon",class:t.icon})]),t._v(" "),n("div",{staticClass:"cell-bd"},[t._v(t._s(t.content))]),t._v(" "),n("div",{staticClass:"cell-ft"},[t._t("default")],2)])},staticRenderFns:[]},R=n("VU/8")(q,N,!1,null,null,null).exports,U={name:"Setting",components:{"cell-switch":s.Switch,"cell-list":O,"cell-item":R},data:function(){return{value:!1,valueContent:"关"}},created:function(){},methods:{switchChange:function(){this.value=!this.value,this.value?this.valueContent="开":this.valueContent="关"},rename:function(){var t=this;s.MessageBox.prompt("开关名称一经修改立即生效","重命名",{inputPlaceholder:t.$route.query.name}).then(function(e){var n=e.value;if(""==n||null==n)return Object(s.MessageBox)("提示","开关名称不能为空,请重新修改"),!1;var i={uid:t.$route.query.uid,devId:t.$route.query.devId,port:"0",cmd:"rename"};t.$http.post("/setting",i).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),console.log(n)}).catch(function(){})},share:function(){var t={uid:this.$route.query.uid,devId:this.$route.query.devId,port:1,cmd:"share"};this.$http.post("/setting",t).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),this.$router.push({path:"/share"})},deleteDev:function(){var t=this;s.MessageBox.confirm("确定删除设备?").then(function(e){var n={uid:t.$route.query.uid,devId:t.$route.query.devId,port:1,cmd:"delete"};t.$http.post("/setting",n).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}).catch(function(){})},changePassword:function(){var t=this;s.MessageBox.prompt("密码一经修改立即生效","修改密码").then(function(e){var n=e.value,i={uid:t.$route.query.uid,devId:t.$route.query.devId,port:1,cmd:"updatepwd"};t.$http.post("/setting",i).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),console.log(n)}).catch(function(){})},restorePassword:function(){var t=this;s.MessageBox.confirm("是否恢复出厂密码?").then(function(e){var n={uid:t.$route.query.uid,devId:t.$route.query.devId,port:1,cmd:"resetpwd"};t.$http.post("/setting",n).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}).catch(function(){})},tel:function(){window.location.href="tel:400-400-1111"}},destroyed:function(){s.MessageBox.close(!1)}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setting body-c"},[n("cell-list",[n("cell-item",{attrs:{icon:"icon-zhongmingming",content:"设备总开关"},nativeOn:{click:function(e){t.switchChange(e)}}},[n("cell-switch",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[t._v("\n        "+t._s(t.valueContent)+"\n      ")])],1),t._v(" "),n("cell-item",{attrs:{isActive:!0,icon:"icon-zhongmingming",content:"重命名"},nativeOn:{click:function(e){t.rename(e)}}}),t._v(" "),n("cell-item",{attrs:{isActive:!0,icon:"icon-tubiao212",content:"分享"},nativeOn:{click:function(e){t.share(e)}}})],1),t._v(" "),n("cell-list",[n("cell-item",{attrs:{isActive:!0,icon:"icon-shanchu",content:"删除设备"},nativeOn:{click:function(e){t.deleteDev(e)}}})],1),t._v(" "),n("cell-list",[n("cell-item",{attrs:{isActive:!0,icon:"icon-mima1",content:"修改密码"},nativeOn:{click:function(e){t.changePassword(e)}}}),t._v(" "),n("cell-item",{attrs:{isActive:!0,icon:"icon-mima",content:"恢复出厂密码"},nativeOn:{click:function(e){t.restorePassword(e)}}})],1),t._v(" "),n("cell-list",[n("cell-item",{attrs:{content:"设备编号:17229900192992"}}),t._v(" "),n("cell-item",{attrs:{content:"设备型号:XJY-ZN-03-3P"}}),t._v(" "),n("cell-item",{attrs:{content:"设备产商:浙江新纪元 NEPCI"}})],1),t._v(" "),n("cell-list",{staticClass:"margin-b_20"},[n("cell-item",{attrs:{isActive:!0,icon:"icon-kefu",content:"客服电话:400-400-1111"},nativeOn:{click:function(e){t.tel(e)}}})],1)],1)},staticRenderFns:[]},D=n("VU/8")(U,V,!1,null,null,null).exports,M={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share"},[e("div",{staticClass:"qr-code"},[e("div",{staticClass:"code-img"},[e("img",{attrs:{src:n("Cwdn"),alt:""}})]),this._v(" "),e("div",{staticClass:"content"},[this._v("扫码二维码分享")])])])}]};var z=n("VU/8")({name:"Share"},M,!1,function(t){n("v633")},"data-v-4cebbdda",null).exports,j={name:"DevSwitch",data:function(){return{swtichState:!0}},components:{"fun-button":$,"fun-item":E},methods:{switchControl:function(){this.swtichState=!this.swtichState},pointMove:function(){this.swtichState?Object(s.MessageBox)("提示","开关开启中,无法进行点动设置"):this.$router.push("/dd-setting")},rename:function(){s.MessageBox.prompt("开关名称一经修改立即生效","重命名",{inputPlaceholder:"通道01"}).then(function(t){var e=t.value;console.log(e)}).catch(function(){})}}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dev-switch",class:1==t.swtichState?"on":"off"},[t._m(0),t._v(" "),n("div",{staticClass:"group-switch"},[n("div",{staticClass:"group-item"},[n("div",{staticClass:"switch-icon",on:{click:t.switchControl}},[n("i",{staticClass:"iconfont icon-kaiguan"})]),t._v(" "),n("div",{staticClass:"content"},[t._v(t._s(1==t.swtichState?"开关电源已开启":"开关电源已关闭"))])])]),t._v(" "),n("fun-button",[n("fun-item",{attrs:{icon:"icon-kaiguan",content:"开关"},nativeOn:{click:function(e){t.switchControl(e)}}}),t._v(" "),n("fun-item",{attrs:{icon:"icon-shijian",content:"点动"},nativeOn:{click:function(e){t.pointMove(e)}}}),t._v(" "),n("fun-item",{attrs:{icon:"icon-rename",content:"重命名"},nativeOn:{click:function(e){t.rename(e)}}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"switch-information"},[e("div",{staticClass:"information-content"},[this._v("通道号:01")]),this._v(" "),e("div",{staticClass:"information-content"},[this._v("型号:XJY-ZN-03-3P")])])}]};var T=n("VU/8")(j,L,!1,function(t){n("DgoC")},"data-v-442f5318",null).exports,H={name:"DdSetting",components:{"button-view":b,"picker-view":s.Picker},data:function(){return{day:"",hours:"",minutes:"",slots:[{flex:1,values:this.daySum(),className:"slot1",textAlign:"center"},{flex:1,values:this.hoursSum(),className:"slot2",textAlign:"center"},{flex:1,values:this.minutesSum(),className:"slot3",textAlign:"center"}]}},methods:{daySum:function(){for(var t=[],e=0;e<100;e++)t.push(e);return t},hoursSum:function(){for(var t=[],e=0;e<12;e++)t.push(e);return t},minutesSum:function(){for(var t=[],e=0;e<60;e++)t.push(e);return t},onValuesChange:function(t,e){this.day=e[0],this.hours=e[1],this.minutes=e[2]},start:function(){this.day,this.hours,this.minutes;this.$router.goBack()}}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dd-setting body-c"},[n("div",{staticClass:"setting-title"},[t._v("在此时间之后执行动作")]),t._v(" "),n("div",{staticClass:"time-val"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"day"}],attrs:{type:"text",id:"dayInput",value:"0",readonly:""},domProps:{value:t.day},on:{input:function(e){e.target.composing||(t.day=e.target.value)}}}),t._v("天\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],attrs:{type:"text",id:"hoursInput",value:"0",readonly:""},domProps:{value:t.hours},on:{input:function(e){e.target.composing||(t.hours=e.target.value)}}}),t._v("小时\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.minutes,expression:"minutes"}],attrs:{type:"text",id:"minutesInput",value:"0",readonly:""},domProps:{value:t.minutes},on:{input:function(e){e.target.composing||(t.minutes=e.target.value)}}}),t._v("分钟\n  ")]),t._v(" "),n("picker-view",{staticClass:"body-f",attrs:{slots:t.slots},on:{change:t.onValuesChange}}),t._v(" "),n("button-view",{attrs:{buttonName:"启动"},nativeOn:{click:function(e){t.start(e)}}})],1)},staticRenderFns:[]};var Y=n("VU/8")(H,W,!1,function(t){n("2xiT")},"data-v-f07091b8",null).exports;i.default.use(r.a),r.a.prototype.goBack=function(){this.isBack=!0,window.history.go(-1)};var Z=[{path:"/",name:"Home",component:w,meta:{title:"开关列表",key:1}},{path:"/dev-switch",name:"DevSwitch",component:T,meta:{title:"开关",key:2}},{path:"/setting",name:"Setting",component:D,meta:{title:"设置",key:2}},{path:"/share",name:"Share",component:z,meta:{title:"分享",key:3}},{path:"/enter-password",name:"EnterPassword",component:B,meta:{title:"输入密码",key:2}},{path:"/dd-setting",name:"DdSetting",component:Y,meta:{title:"点动设置",key:3}}],J=new r.a({linkActiveClass:"active",scrollBehavior:function(t,e,n){return n||{x:0,y:0}},routes:Z});J.beforeEach(function(t,e,n){t.meta.title&&(document.title=t.meta.title),n()});var G=J,X=n("mtWM"),K=n.n(X),Q=n("v5o6"),tt=n.n(Q),et=n("//Fk"),nt=n.n(et),it=n("mw3O"),st=n.n(it);K.a.defaults.baseURL="http://iot.wkmip.cn/Mobile/Switch",K.a.interceptors.request.use(function(t){return"post"===t.method&&(t.data=st.a.stringify(t.data)),t},function(t){return nt.a.reject(t)}),K.a.interceptors.response.use(function(t){return t},function(t){return nt.a.reject(t)}),i.default.config.productionTip=!1,i.default.prototype.$http=K.a,i.default.use(a.a),new i.default({el:"#app",router:G,components:{App:c},template:"<App/>"}),tt.a.attach(document.body)},UM0k:function(t,e){},cHGq:function(t,e){},"d8/S":function(t,e){},mLvW:function(t,e){},"p+Fa":function(t,e){},qrZP:function(t,e){},v633:function(t,e){},zzYx:function(t,e){!function(t,e){function n(){var e=a.getBoundingClientRect().width;e/r>540&&(e=540*r);var n=e/10;a.style.fontSize=n+"px",u.rem=t.rem=n}var i,s=t.document,a=s.documentElement,o=s.querySelector('meta[name="viewport"]'),c=s.querySelector('meta[name="flexible"]'),r=0,l=0,u=e.flexible||(e.flexible={});if(o){var d=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(l=parseFloat(d[1]),r=parseInt(1/l))}else if(c){var v=c.getAttribute("content");if(v){var m=v.match(/initial\-dpr=([\d\.]+)/),f=v.match(/maximum\-dpr=([\d\.]+)/);m&&(r=parseFloat(m[1]),l=parseFloat((1/r).toFixed(2))),f&&(r=parseFloat(f[1]),l=parseFloat((1/r).toFixed(2)))}}if(!r&&!l){var h=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),p=t.devicePixelRatio;l=1/(r=h?p>=3&&(!r||r>=3)?3:p>=2&&(!r||r>=2)?2:1:1)}if(a.setAttribute("data-dpr",r),!o)if((o=s.createElement("meta")).setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+l+", maximum-scale="+l+", minimum-scale="+l+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(o);else{var g=s.createElement("div");g.appendChild(o),s.write(g.innerHTML)}t.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(n,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(i),i=setTimeout(n,300))},!1),"complete"===s.readyState?s.body.style.fontSize=12*r+"px":s.addEventListener("DOMContentLoaded",function(){s.body.style.fontSize=12*r+"px"},!1),n(),u.dpr=t.dpr=r,u.refreshRem=n,u.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},u.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))}},["NHnr"]);
//# sourceMappingURL=app.6a2affbce510d155c3c2.js.map